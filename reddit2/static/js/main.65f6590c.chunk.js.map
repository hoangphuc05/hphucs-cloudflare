{"version":3,"sources":["index.js"],"names":["content","toRestore","redditLink","redditJSON","timeoutId","htmlDecode","input","e","document","createElement","innerHTML","childNodes","length","nodeValue","console","log","window","fbid","event","Event","bubbles","onbeforeunload","$","click","postid","URL","val","pathname","split","get","data","AllPost","ReactDom","render","handleSave","save","getElementById","allContent","saveAll","id","translatedContent","html","attr","clearTimeout","setTimeout","localStorage","setItem","JSON","stringify","logined","sendPost","title","sendJson","sendContent","allPost","pointFormatter","a","toFixed","alert","getItem","parse","restoreObject","Object","keys","key","text","dispatchEvent","error","checkLoginState","post","restore","recievedData","props","updateSubmission","setState","translatedSubmission","updateAll","updateComment","translatedComment","order","state","translatedComments","allComments","i","traslatedAll","runRestore","copyResult","dummy","append","value","select","setSelectionRange","execCommand","removeChild","Array","elements","push","Submission","changeContent","this","tempChildren","concat","Comments","body_html","author","score","level","children","allChildren","awards","type","class","data-toggle","data-target","tabindex","role","aria-labelledby","aria-hidden","data-dismiss","aria-label","style","whiteSpace","onClick","React","Component","handleChange","textarea","toReturn","subreddit","awardString","selftext","aWardCount","allAwards","ignoredCount","className","name","dangerouslySetInnerHTML","__html","height","onChange","ref","allChildContent","prefix","t0","performance","now","t1","loaded","currentComment","currentLevel","ajax","url","async","success","m","aria-expanded","aria-controls","loadMore"],"mappings":"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","file":"static/js/main.65f6590c.chunk.js","sourcesContent":["import React from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport $ from 'jquery'\r\nimport './index.css'\r\n\r\n//import LoginComponent from './fb';\r\n\r\n\r\n\r\n\r\nconsole.log(window.fbid);\r\n\r\n\r\nfunction htmlDecode(input){\r\n    var e = document.createElement('textarea');\r\n    e.innerHTML = input;\r\n    // handle case of empty input\r\n    return e.childNodes.length === 0 ? \"\" : e.childNodes[0].nodeValue;\r\n}\r\n\r\n//trying to auto height \r\n\r\nvar allPost\r\nvar content\r\nvar toRestore;\r\nvar redditLink;\r\nvar redditJSON;\r\n\r\n\r\n//store facebook\r\nvar fbid;\r\nvar fbName;\r\n\r\n\r\n//autosave\r\nvar timeoutId;\r\n\r\n\r\nfunction autoSave(){\r\n\r\n    $(\"#save\").html(\"Saving\");\r\n    $(\"#save\").attr('class','btn btn-warning');\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(function() {\r\n        // Runs 1 second (1000 ms) after the last change   \r\n        $(\"#save\").html(\"Saved&nbsp;\");\r\n        $(\"#save\").attr('class','btn btn-success');\r\n        localStorage.setItem('traslatedContent', JSON.stringify(allContent));\r\n        localStorage.setItem('rdLink',redditLink);\r\n        localStorage.setItem('rdJson',JSON.stringify(content)); \r\n        if(window.logined == 1){\r\n            window.sendPost(window.postid, window.title);\r\n            window.sendJson(window.postid, JSON.stringify(content));\r\n            window.sendContent(window.postid, JSON.stringify(allContent));\r\n        }\r\n    }, 1000);\r\n};\r\n\r\n\r\n\r\nvar event = new Event('input', { bubbles: true });\r\n\r\nwindow.onbeforeunload = function(){\r\n    return 'Save chưa bạn ơi?';\r\n  };\r\n$('#rdFetch').click( function(){\r\n    //document.getElementById('root').innerHTML= '';\r\n    //redditLink = $(\"#rdLink\").val()\r\n\r\n    window.postid = (new URL($(\"#rdLink\").val()).pathname.split(\"/\")[4]);\r\n\r\n    redditLink = \"https://www.reddit.com/\" + (new URL($(\"#rdLink\").val()).pathname.split(\"/\")[4])\r\n    $.get(redditLink+\".json\",function(data){\r\n        //redditJSON = data;\r\n        content = data;\r\n        redditLink =\"https://www.reddit.com\" + content[0]['data']['children'][0]['data']['permalink'];\r\n        $(\"#rdLink\").val(redditLink);\r\n        //console.log(htmlDecode(content[0]['data']['children'][0]['data']['selftext_html']));\r\n        \r\n        allPost = <AllPost/>\r\n        ReactDom.render(\r\n            <AllPost handleSave = {save}/>,\r\n            document.getElementById('root')\r\n        );\r\n\r\n        \r\n    });\r\n\r\n})\r\n\r\nvar allContent={};\r\nfunction saveAll(id, translatedContent){\r\n    autoSave()\r\n\r\n    allContent[id] = translatedContent;\r\n\r\n}\r\n\r\nfunction save(allPost){\r\n\r\n\r\n}\r\n\r\nfunction saveOnline(fbid){\r\n    \r\n}\r\n\r\n\r\n\r\n$('#save').click( function(){\r\n    localStorage.setItem('traslatedContent', JSON.stringify(allContent));\r\n    localStorage.setItem('rdLink',redditLink);\r\n    localStorage.setItem('rdJson',JSON.stringify(content));\r\n    alert(\"Hình như là đã save\");\r\n\r\n})\r\n\r\nfunction pointFormatter(a){\r\n    return 999 < a ? (a / 1E3).toFixed(1) + \"k\" : a\r\n}\r\n\r\nfunction getRestoreObject(){\r\n    var demo = '{\"tasubmission\":\"ab\",\"taflj1n38\":\"fghd\"}';\r\n    toRestore = demo;\r\n\r\n}\r\n\r\n$('#restore').click( function(){\r\n    toRestore = localStorage.getItem('traslatedContent')\r\n    redditLink = localStorage.getItem('rdLink');\r\n    redditJSON = localStorage.getItem('rdJson');\r\n\r\n    //getRestoreObject();\r\n    \r\n    $(\"#rdLink\").val(redditLink);\r\n    content = JSON.parse(redditJSON);\r\n    ReactDom.render(\r\n        <AllPost handleSave = {save}/>,\r\n        document.getElementById('root')\r\n    );\r\n\r\n    var restoreObject = JSON.parse(toRestore);\r\n    for (var key of Object.keys(restoreObject)){\r\n\r\n        saveAll(key,restoreObject[key]);\r\n        $('#'+key).text(restoreObject[key]);\r\n        //$('#'+key)\r\n        try{\r\n            document.getElementById(key).dispatchEvent(event);\r\n        } catch(error){\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n})\r\n\r\n$('#restore2').click( function(){\r\n\r\n    window.checkLoginState() \r\n\r\n    $.post(\"https://hphucs.me/rdex/handler.php\",{fbid: window.fbid, restore: 1},function(data){\r\n        var recievedData;\r\n        console.log(data);\r\n        recievedData =  JSON.parse(data);\r\n        toRestore = recievedData[0][\"content\"];\r\n        redditLink = JSON.parse(recievedData[0][\"rdjson\"])[0][\"data\"][\"children\"][0][\"data\"][\"url\"];\r\n        redditJSON = recievedData[0][\"rdjson\"];\r\n\r\n        window.postid = recievedData[0][\"postid\"];\r\n\r\n        $(\"#rdLink\").val(redditLink);\r\n        content = JSON.parse(redditJSON);\r\n        ReactDom.render(\r\n            <AllPost handleSave = {save}/>,\r\n            document.getElementById('root')\r\n        );\r\n\r\n        var restoreObject = JSON.parse(toRestore);\r\n        for (var key of Object.keys(restoreObject)){\r\n\r\n            saveAll(key,restoreObject[key]);\r\n            $('#'+key).text(restoreObject[key]);\r\n            //$('#'+key)\r\n            try{\r\n                document.getElementById(key).dispatchEvent(event);\r\n            } catch(error){\r\n                console.log(error);\r\n            }\r\n        }\r\n    \r\n    }) \r\n    \r\n\r\n\r\n\r\n})\r\n\r\n\r\n\r\nclass AllPost extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            translatedSubmission: null,\r\n            translatedComments : Array(),\r\n            traslatedAll : null,\r\n        }\r\n    }\r\n\r\n    updateSubmission = (translatedContent) =>{\r\n        this.setState({translatedSubmission: translatedContent},() => this.updateAll());\r\n        //this.state.translatedSubmission = translatedContent;\r\n        //this.updateAll();\r\n    }\r\n\r\n    updateComment = (translatedComment,order) =>{\r\n        this.state.translatedComments[order]= translatedComment;\r\n        this.updateAll();\r\n    }\r\n\r\n    updateAll = ()=>{\r\n        var translatedSubmission = this.state.translatedSubmission;\r\n        var allComments = \"\";\r\n        for (var i =0; i< this.state.translatedComments.length; i++){\r\n            if(this.state.translatedComments[i] != \"\"){\r\n                allComments += this.state.translatedComments[i]  + \"____________________\"+\"\\r\\n\";\r\n            }\r\n        }\r\n        this.setState({traslatedAll:translatedSubmission + allComments})\r\n    }\r\n\r\n    \r\n    runRestore = () =>{\r\n\r\n        \r\n    }\r\n\r\n    copyResult = () => {\r\n        var dummy = document.createElement(\"textarea\");\r\n        document.getElementById(\"model-body\").append(dummy);\r\n        // to avoid breaking orgain page when copying more words\r\n        // cant copy when adding below this code\r\n        // dummy.style.display = 'none'\r\n        //document.body.appendChild(dummy);\r\n        //Be careful if you use texarea. setAttribute('value', value), which works with \"input\" does not work with \"textarea\". – Eduard\r\n        dummy.value = this.state.traslatedAll;\r\n        dummy.select();\r\n        dummy.setSelectionRange(0, 99999);\r\n        document.execCommand(\"copy\");\r\n        document.getElementById(\"model-body\").removeChild(dummy);\r\n        alert(\"Text copied\");\r\n    }\r\n\r\n    render(){\r\n\r\n        var elements=[];\r\n       \r\n        elements.push(<Submission changeContent = {this.updateSubmission}/>);\r\n        \r\n\r\n        if (content[1]['data']['children'][content[1]['data']['children'].length - 1]['kind'] == \"t1\"){\r\n            for (var i=0; i < content[1]['data']['children'].length;i++){\r\n\r\n                var tempChildren = content[1]['data']['children'][i]['data']['replies']== \"\" ? null : content[1]['data']['children'][i]['data']['replies']['data']['children']\r\n    \r\n                this.state.translatedComments = this.state.translatedComments.concat([\"\"]);\r\n                //this.setState({translatedComments: this.state.translatedComments.concat([\"\"])});\r\n    \r\n                elements.push(<Comments body_html={ content[1]['data']['children'][i]['data']['body_html']}\r\n                            author = {content[1]['data']['children'][i]['data']['author']}\r\n                            score = {pointFormatter(content[1]['data']['children'][i]['data']['score'])}\r\n                            id = {content[1]['data']['children'][i]['data']['id']}\r\n                            level = {1}\r\n                            children = {tempChildren}\r\n                            allChildren = {Array(0)}\r\n                            order = {i}\r\n                            changeContent = {this.updateComment}\r\n                            awards = {content[1]['data']['children'][i]['data'][\"all_awardings\"]}\r\n    \r\n                        />)\r\n            }\r\n        } else {\r\n            for (var i=0; i < content[1]['data']['children'].length - 1;i++){\r\n\r\n                var tempChildren = content[1]['data']['children'][i]['data']['replies']== \"\" ? null : content[1]['data']['children'][i]['data']['replies']['data']['children']\r\n    \r\n                this.state.translatedComments = this.state.translatedComments.concat([\"\"]);\r\n                //this.setState({translatedComments: this.state.translatedComments.concat([\"\"])});\r\n    \r\n                elements.push(<Comments body_html={ content[1]['data']['children'][i]['data']['body_html']}\r\n                            author = {content[1]['data']['children'][i]['data']['author']}\r\n                            score = {pointFormatter(content[1]['data']['children'][i]['data']['score'])}\r\n                            id = {content[1]['data']['children'][i]['data']['id']}\r\n                            level = {1}\r\n                            children = {tempChildren}\r\n                            allChildren = {Array(0)}\r\n                            order = {i}\r\n                            changeContent = {this.updateComment}\r\n                            awards = {content[1]['data']['children'][i]['data'][\"all_awardings\"]}\r\n    \r\n                        />)\r\n            }\r\n        }\r\n\r\n        return( <div>\r\n\r\n            <button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#resultModal\">\r\n                Preview\r\n            </button>\r\n           \r\n            <div class=\"modal fade\" id=\"resultModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"TranslatedResult\" aria-hidden=\"true\">\r\n                <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n                    <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Preview content</h5>\r\n                        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                        </button>\r\n                    </div>\r\n                    <div id=\"model-body\" class=\"modal-body\" style={{whiteSpace: \"pre-line\"}}>\r\n                        <p id=\"FinalResult\">{this.state.traslatedAll}</p>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-success\" onClick={this.copyResult}>Copy text</button>\r\n                        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {elements}\r\n\r\n            </div>\r\n            )\r\n    }\r\n}\r\n\r\n\r\n\r\nclass Submission extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        window.title = content[0]['data']['children'][0]['data']['title'];\r\n        this.state = {\r\n            subreddit: content[0][\"data\"][\"children\"][0][\"data\"][\"subreddit\"],\r\n            author: content[0][\"data\"][\"children\"][0]['data']['author'],\r\n            selftext: content[0]['data']['children'][0]['data']['selftext_html'],\r\n            title:content[0]['data']['children'][0]['data']['title'],\r\n            score:pointFormatter(content[0]['data']['children'][0]['data']['score']),\r\n            translatedContent:\"\",\r\n            awardString: \"\"\r\n\r\n        }\r\n\r\n        //for award processing---------------------------------------------------------\r\n        var aWardCount = 0; //count the number of current award, limit it to 3\r\n        var allAwards = content[0][\"data\"]['children'][0]['data']['all_awardings']\r\n        console.log(allAwards);\r\n        var ignoredCount = 0\r\n        //list all the award\r\n        for (var i = 0; i <allAwards.length;i++){\r\n            if (allAwards[i][\"id\"] === \"gid_2\"){\r\n                this.state.awardString += \" - x\" + allAwards[i][\"count\"] + \" gold\";\r\n                if (allAwards[i][\"count\"] > 1){\r\n                    this.state.awardString += \"s\";\r\n                }\r\n                aWardCount++;\r\n            }\r\n\r\n            else if (allAwards[i][\"id\"] === \"gid_3\"){\r\n                this.state.awardString += \" - x\" + allAwards[i][\"count\"] + \" platinum\";\r\n                if (allAwards[i][\"count\"] > 1){\r\n                    this.state.awardString += \"s\";\r\n                }\r\n                aWardCount++;\r\n            }\r\n\r\n            else if (allAwards[i][\"id\"] === \"gid_1\"){\r\n                this.state.awardString += \" - x\" + allAwards[i][\"count\"] + \" silver\";\r\n                if (allAwards[i][\"count\"] > 1){\r\n                    this.state.awardString += \"s\";\r\n                }\r\n                aWardCount++;\r\n            }\r\n\r\n            else if (aWardCount < 3){\r\n                this.state.awardString += \" - x\" + allAwards[i][\"count\"] + \" \" + allAwards[i][\"name\"];\r\n                aWardCount++;\r\n            }\r\n            else{\r\n                ignoredCount += 1;\r\n            }\r\n        }\r\n        \r\n        if (ignoredCount > 0){\r\n            this.state.awardString += \" & \" + ignoredCount + \" more\"\r\n        }\r\n\r\n        /*$('#rdFetch').on(\"click\", ()=>{\r\n            \r\n            $.get($(\"#rdLink\").val()+\".json\",function(data){\r\n                //alert($(\"#rdLink\").val())\r\n                content = data;\r\n                console.log(htmlDecode(content[0]['data']['children'][0]['data']['selftext_html']));\r\n                //update();\r\n            });\r\n  \r\n        \r\n        });*/\r\n\r\n    }\r\n    \r\n    handleChange = () => {\r\n        \r\n\r\n        saveAll(\"tasubmission\", this.textarea.value);\r\n        var toReturn = \"r/\" + this.state.subreddit + \"\\r\\n\" \r\n                        + \"u/\" + this.state.author + \"(\" + pointFormatter(this.state.score) + \" points\" + this.state.awardString + \") \\r\\n\" \r\n                        + this.textarea.value + \"\\r\\n\"\r\n                        +\"____________________\"+\"\\r\\n\"\r\n                        +\"Link Reddit: https://redd.it/\" + (new URL($(\"#rdLink\").val()).pathname.split(\"/\")[4])+\"\\r\\n\"+\r\n                        \"____________________\"+\"\\r\\n\";\r\n        this.props.changeContent(toReturn);\r\n        //console.log(\"change handled\");\r\n    }\r\n\r\n    render(){\r\n        this.state.subreddit= content[0][\"data\"][\"children\"][0][\"data\"][\"subreddit\"];\r\n        this.state.author= content[0][\"data\"][\"children\"][0]['data']['author'];\r\n        this.state.selftext= content[0]['data']['children'][0]['data']['selftext_html'];\r\n        this.state.title= content[0]['data']['children'][0]['data']['title'];\r\n        this.state.score =pointFormatter(content[0]['data']['children'][0]['data']['score']);\r\n        this.state.translatedContent=\"\";\r\n        return(\r\n\r\n            \r\n            \r\n            <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n            \r\n              <div className={\"collapse show \" +this.props.name} id =\"mainBody\">\r\n                <div class=\"card card-body fullrow\">\r\n                    <p><b>r/{this.state.subreddit}</b><br/>\r\n                    <b>u/{this.state.author} ({this.state.score} points{this.state.awardString})</b><br/>\r\n                    {this.state.title}</p>\r\n                    <div dangerouslySetInnerHTML={{__html:htmlDecode(this.state.selftext)}} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n              <div className={\"collapse show \" +this.props.name} id=\"mainBodyTranslated\">\r\n                <div class=\"card card-body fullrow\">\r\n                  <p style = {{height: \"100%\"}}><b>r/{this.state.subreddit}</b><br/>\r\n                  <b>u/{this.state.author} ({this.state.score} points{this.state.awardString})</b><br/>\r\n                  <textarea style = {{height: \"90%\"}} id=\"tasubmission\" onChange={this.handleChange} ref={(ref) => this.textarea = ref}></textarea><br/></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass Comments extends React.Component{\r\n\r\n    \r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.state = {\r\n            allChildren: Array(0),\r\n            loaded : 0,\r\n            prefix : \"\",\r\n            translatedComments: Array(),\r\n            awardString:\"\"\r\n        };\r\n\r\n        //process award--------------------------------------------------\r\n        var aWardCount = 0;\r\n        var allAwards = this.props.awards;\r\n        var ignoredCount = 0\r\n        //list all the award\r\n        for (var i = 0; i <allAwards.length;i++){\r\n            if (allAwards[i][\"id\"] === \"gid_2\"){\r\n                this.state.awardString += \" - x\" + allAwards[i][\"count\"] + \" gold\";\r\n                if (allAwards[i][\"count\"] > 1){\r\n                    this.state.awardString += \"s\";\r\n                }\r\n                aWardCount++;\r\n            }\r\n\r\n            else if (allAwards[i][\"id\"] === \"gid_3\"){\r\n                this.state.awardString += \" - x\" + allAwards[i][\"count\"] + \" platinum\";\r\n                if (allAwards[i][\"count\"] > 1){\r\n                    this.state.awardString += \"s\";\r\n                }\r\n                aWardCount++;\r\n            }\r\n\r\n            else if (allAwards[i][\"id\"] === \"gid_1\"){\r\n                this.state.awardString += \" - x\" + allAwards[i][\"count\"] + \" silver\";\r\n                if (allAwards[i][\"count\"] > 1){\r\n                    this.state.awardString += \"s\";\r\n                }\r\n                aWardCount++;\r\n            }\r\n\r\n            else if (aWardCount < 3){\r\n                this.state.awardString += \" - x\" + allAwards[i][\"count\"] + \" \" + allAwards[i][\"name\"];\r\n                aWardCount++;\r\n            }\r\n            else{\r\n                ignoredCount += 1;\r\n            }\r\n        }\r\n        \r\n        if (ignoredCount > 0){\r\n            this.state.awardString += \" & \" + ignoredCount + \" more\"\r\n        }\r\n        \r\n    }\r\n\r\n    handleChange = () => {\r\n        \r\n        \r\n        saveAll(\"ta\"+this.props.id,this.textarea.value);\r\n        var allChildContent = \"\";\r\n\r\n        \r\n        for (var i=0; i < this.state.translatedComments.length; i++){\r\n            if (this.state.translatedComments[i]!=\"\"){\r\n                allChildContent += this.state.translatedComments[i];\r\n            }\r\n        }\r\n\r\n        var toReturn = \"\\r\\n\" + this.state.prefix + \"u/\" + this.props.author + \"(\" + pointFormatter(this.props.score) + \" points\"+ this.state.awardString +\") \\r\\n\"\r\n            + this.textarea.value +\"\\r\\n\"\r\n            + allChildContent ;\r\n\r\n        if (this.state.translatedComments===\"\"){\r\n            toReturn = \"\";\r\n        }\r\n        this.props.changeContent(toReturn,this.props.order);\r\n\r\n        \r\n    }\r\n\r\n    updateComment = (translatedComment,order) =>{\r\n        //This is for a perfomact test\r\n        var t0 = performance.now()\r\n\r\n        this.state.translatedComments[order]= translatedComment;\r\n        this.handleChange();\r\n\r\n        var t1 = performance.now()\r\n        console.log(\"Call to Handlechange took \" + (t1 - t0) + \" milliseconds.\")\r\n    }\r\n\r\n\r\n    loadMore(children){\r\n        var allChildren = Array(0);\r\n        if (children && !this.state.loaded){\r\n            var child;\r\n            var currentComment;\r\n\r\n            var currentLevel = this.props.level;\r\n\r\n            $.ajax({url : redditLink+ this.props.id + \".json\", async:false, success:function(data){\r\n                currentComment = data;\r\n            }});\r\n\r\n            \r\n\r\n                if (currentComment[1]['data']['children'][0][\"data\"][\"replies\"] != \"\"){\r\n                    var tempChildren = currentComment[1]['data']['children'][0][\"data\"][\"replies\"]['data']['children'];\r\n                    for (var m =0; m < tempChildren.length; m++){\r\n\r\n                        this.state.translatedComments = this.state.translatedComments.concat([\"\"]);\r\n                        \r\n                        let kind = tempChildren[m]['kind'];\r\n                        if (kind == \"t1\") {\r\n                            console.log(tempChildren[m]['data'][\"all_awardings\"]);\r\n                            allChildren.push(<Comments body_html={tempChildren[m]['data']['body_html']}\r\n                                author={tempChildren[m]['data']['author']}\r\n                                score={pointFormatter(tempChildren[m]['data']['score'])}\r\n                                id={tempChildren[m]['data']['id']}\r\n                                level={currentLevel + 1}\r\n                                children={tempChildren[m]['data']['replies']}\r\n                                order={m}\r\n                                changeContent={this.updateComment}\r\n                                awards={tempChildren[m]['data'][\"all_awardings\"]}\r\n                            />)\r\n                        }\r\n                    }\r\n                        \r\n                }   \r\n            \r\n\r\n            \r\n\r\n\r\n            \r\n            this.setState({allChildren : allChildren});\r\n            this.setState({loaded:1});\r\n        };\r\n    }\r\n\r\n    render(){\r\n\r\n        //processing all the children comments\r\n        var prefix = \"\";\r\n        for (var i = 1; i < this.props.level; i++){\r\n            prefix +=\">\";\r\n        }\r\n        //this.setState({prefix:prefix})\r\n        this.state.prefix = prefix;\r\n        return(\r\n            <div className={\"ml-\" +this.props.level}>\r\n                <a class=\"btn btn-light\" data-toggle=\"collapse\" data-target={\".\"+this.props.id} role=\"button\" aria-expanded=\"false\" aria-controls={this.props.id} \r\n                onClick = {() => this.loadMore(this.props.children)}\r\n                >\r\n                    <b>{prefix}u/{this.props.author}({pointFormatter(this.props.score)} points)</b>\r\n                </a>\r\n\r\n\r\n                    <div className = {\"collapse outerComments \" + this.props.id} id = {this.props.id}>\r\n                        <div className={\"row\"}>\r\n                        \r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"row\">\r\n\r\n                                    <div className={\"collapse col-md-11 \"+this.props.id}>\r\n                                        <div class=\" card card-body fullrow\">\r\n                                            <p><b>{prefix}u/{this.props.author}({pointFormatter(this.props.score)} points{this.state.awardString})</b><br/></p>\r\n                                            <div dangerouslySetInnerHTML={{__html:htmlDecode(this.props.body_html)}}/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                            <div className={\"collapse \"+this.props.id} id={this.props.id+\"Translated\"}>\r\n                                <div class=\"card card-body fullrow\">\r\n                                    <p style = {{height: \"100%\"}}><b>{prefix}u/{this.props.author}({pointFormatter(this.props.score)} points{this.state.awardString})</b><br/>\r\n                                <textarea id={\"ta\"+this.props.id} onChange={this.handleChange} ref={(ref) => this.textarea =ref}></textarea></p>\r\n                                </div>\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                    \r\n                        {this.state.allChildren}\r\n                    </div>\r\n\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n//======\r\n/*\r\n\r\n$('.outerComments').click(function(e){\r\n    if(  e.offsetX <= parseInt($(this).css('borderLeftWidth'))){\r\n       \r\n    }\r\n});\r\n\r\n$('.outerComments').hover(function(e){\r\n    if(  e.offsetX <= parseInt($(this).css('borderLeftWidth'))){\r\n       $(this).css(\"border-left-color\", \"#999\");\r\n    }\r\n    else{\r\n        $(this).css(\"border-left-color\", \"#f2f2f2\");\r\n    }\r\n});*/\r\n"],"sourceRoot":""}